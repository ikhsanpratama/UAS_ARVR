<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Augmented & Virtual Reality - Tugas UAS </title>    
    <meta name="author" content="Ikhsan Pratama">    
    <script src='https://cdn.jsdelivr.net/gh/aframevr/aframe@1c2407b26c61958baa93967b5412487cd94b290b/dist/aframe-master.min.js'></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js'></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.5.1/dat.gui.min.js" type="text/javascript"></script>
    <script src='assets//js/aframe-gui.min.js'></script>        
    <style>
      .arjs-loader {
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background-color: rgba(0, 0, 0, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    
      .arjs-loader div {
        text-align: center;
        font-size: 1.25em;
        color: white;
      }
    </style>   
  </head>
  <body>    
    
      <a-scene          
          vr-mode-ui='enabled: true;'
          renderer="logarithmicDepthBuffer: true; precision: medium;"
          embedded arjs='trackingMethod: best; sourceType: webcam; debugUIEnabled: false;'>
          <a-assets>			
            <a-asset-item id="textfont1" src="assets/fonts/PermanentMarker-Regular.ttf"></a-asset-item>
            <a-asset-item id="textfont2" src="assets/fonts/PressStart2P-Regular.ttf"></a-asset-item>							
            <img id="sttb" src="assets/img/sttb.png">
          </a-assets>
          <a-text 
            value="Silakan Scan Marker" 
            position="0 2.8 -5"
            height="1.5" width="1.5"
            align="center"      
            >
          </a-text>
          <a-image 
            src="#sttb" 
            position="0 0.7 -5"
            height="0.2"
            width="0.2">
          </a-image>	
          <a-nft
              type='nft' 
              url='tugas_uas/marker/city/marker'
              smooth='true' 
              smoothCount='5' 
              smoothTolerance='0.01' 
              smoothThreshold='5'
              size="0.2"
              >
              <a-gltf-model
                  src='assets/3d-models/city/city.gltf'
                  scale="0.1 0.1 0.1"
                  rotation="-60 0 0"
                  position="400 0 -300"                  
                  >
              </a-gltf-model>              
          </a-nft>
          
          <a-gui-flex-container
            flex-direction="row" 
            justify-content="center" 
            align-items="normal" 
            component-padding="0.5"
            opacity="0.7" 
            width="5" 
            height="2" 
            panel-color="#072B73" 
            panel-rounded="0.1"
            position="-3 -2 -20" 
            rotation="0 10 0"
            >    

            <a-gui-button
              width="2.75" 
              height="1"
              base-depth="0.1" 
              depth="0.3"
              gap="0.1"
              radius="0"				 
              onclick="buttonMenu"
              value="MENU"
              font-family="assets/fonts/PressStart2P-Regular.ttf"
              font-size="0.25"
              margin="0 0 0.05 0"
              bevel="true"
            >
            </a-gui-button>      
          </a-gui-flex-container>

          <a-gui-flex-container
            flex-direction="row" 
            justify-content="center" 
            align-items="normal" 
            component-padding="0.5"
            opacity="0.7" 
            width="5" 
            height="2" 
            panel-color="#072B73" 
            panel-rounded="0.1"
            position="3 -2 -20" 
            rotation="0 -10 0"
            >    
            <a-gui-button
              width="2.75" 
              height="1"
              base-depth="0.1" 
              depth="0.3"
              gap="0.1"
              radius="0"				 
              onclick="buttonVR"
              value="START VR"
              font-family="assets/fonts/PressStart2P-Regular.ttf"
              font-size="0.25"
              margin="0 0 0.05 0"
              bevel="true"
            >
            </a-gui-button>
          </a-gui-flex-container>

          <a-entity id="cameraRig" position="0 0 0">
            <a-camera id="camera">
              <a-gui-cursor id="cursor"
                raycaster="objects: [gui-interactable]"
                fuse="true" 
                fuse-timeout="1000"
                color="#ECEFF1"
                hover-color="#CFD8DC"
                active-color="#607D8B"
                distance="-5"
                design="ring"
				      >
				      </a-gui-cursor>
            </a-camera>
          </a-entity>
      </a-scene>   
      <script>
        window.buttonVR = function () {
			    window.location.replace("index-vr.html");
		    }
        window.buttonMenu = function () {
			    window.location.replace("index.html");
		    }
      </script>   
  </body>
</html>